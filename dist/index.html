<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Todo App Draggable</title>
    <link rel="stylesheet" href="css/fontawesome.css" />
    <link rel="stylesheet" href="css/all.css" />
    <link rel="stylesheet" href="css/solid.css" />
    <link rel="stylesheet" href="css/regular.css" />
    <link rel="stylesheet" href="css/brands.css" />
    <link rel="stylesheet" href="css/fonts.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div id="page-container">
      <div id="content-wrapper">
        <!-- navbar -->
        <!-- <div class="nav-overlay"></div> -->
        <nav class="navbar">
          <div class="navbar-center">
            <div class="navbar-container">
              <div class="navbar-header">
                <a href="#index" class="navbar-logo">
                  <!-- <img src="images/logo.png" alt="logo" /> -->
                  TODO APP
                </a>
              </div>

              <ul class="navbar-links">
                <li class="navbar-item">
                  <a href="index.html">home</a>
                </li>
                <li class="navbar-item">
                  <a href="task.html">reset</a>
                </li>
              </ul>

              <div class="navbar-btn" type="button">
                <img src="assets/menu-icon.svg" alt="" />
              </div>
            </div>
          </div>
        </nav>
        <!--end of navbar -->
        <!-- main app -->
        <section class="todo">
          <div class="todo-center">
            <div class="todo-container">
              <div class="todo-wrapper">
                <div class="todo-date">
                  <p>Today</p>
                </div>

                <div class="card-wrapper" id="todo-box">
                  <div class="todo-feedback"></div>
                  <div class="item draggable" draggable="true">
                    <div class="item-check check-slave" data-id="${todo.id}">
                      <input type="checkbox" class="todo-check" value="on" />
                    </div>
                    <div class="item-text">
                      <p class="item-text-p" id="todo-display">Wash clothes</p>
                    </div>
                    <div class="item-edit">
                      <div class="icon" id="icon-edit" data-id="${todo.id}">
                        <i class="fas fa-edit" id="edit"></i>
                      </div>
                      <div class="icon" id="icon-edit" data-id="${todo.id}">
                        <i class="fas fa-trash" id="trash"></i>
                      </div>
                    </div>
                  </div>
                  <div class="item draggable" draggable="true">
                    <div class="item-check check-slave" data-id="${todo.id}">
                      <input type="checkbox" class="todo-check" value="on" />
                    </div>
                    <div class="item-text">
                      <p class="item-text-p" id="todo-display">eat breakfast</p>
                    </div>
                    <div class="item-edit">
                      <div class="icon" id="icon-edit" data-id="${todo.id}">
                        <i class="fas fa-edit" id="edit"></i>
                      </div>
                      <div class="icon" id="icon-edit" data-id="${todo.id}">
                        <i class="fas fa-trash" id="trash"></i>
                      </div>
                    </div>
                  </div>
                  <div class="item draggable" draggable="true">
                    <div class="item-check check-slave" data-id="${todo.id}">
                      <input type="checkbox" class="todo-check" value="on" />
                    </div>
                    <div class="item-text">
                      <p class="item-text-p" id="todo-display">play soccer</p>
                    </div>
                    <div class="item-edit">
                      <div class="icon" id="icon-edit" data-id="${todo.id}">
                        <i class="fas fa-edit" id="edit"></i>
                      </div>
                      <div class="icon" id="icon-edit" data-id="${todo.id}">
                        <i class="fas fa-trash" id="trash"></i>
                      </div>
                    </div>
                  </div>
                  <div class="item draggable" draggable="true">
                    <div class="item-check check-slave" data-id="${todo.id}">
                      <input type="checkbox" class="todo-check" value="on" />
                    </div>
                    <div class="item-text">
                      <p class="item-text-p" id="todo-display">take nap</p>
                    </div>
                    <div class="item-edit">
                      <div class="icon" id="icon-edit" data-id="${todo.id}">
                        <i class="fas fa-edit" id="edit"></i>
                      </div>
                      <div class="icon" id="icon-edit" data-id="${todo.id}">
                        <i class="fas fa-trash" id="trash"></i>
                      </div>
                    </div>
                  </div>

                  <!-- This place will be coming from JavaScript -->
                  <div class="form-wrapper" id="form-wrapper">
                    <form class="form-group">
                      <div class="">
                        <input
                          type="text"
                          placeholder="Add Todo..."
                          name="todo-input"
                          class="todo-input"
                          id="todo-input"
                        />
                      </div>
                      <div class="">
                        <button
                          type="submit"
                          class="todo-submit"
                          id="todo-submit"
                        >
                          <i class="fas fa-plus"></i>
                        </button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <!-- end of main app -->
      </div>

      <!-- footer -->
      <footer>
        <div class="footer-center">
          <div>
            <p>Copyright &copy; 2021 | Peter Ihimire Todo-App</p>
          </div>
        </div>
      </footer>
      <!-- end of footer -->
    </div>
    <script>
      var btn = document.querySelector(".add");
      var remove = document.querySelector(".draggable");

      function dragStart(e) {
        this.style.opacity = "0.4";
        dragSrcEl = this;
        console.log(this);
        e.dataTransfer.effectAllowed = "move";
        e.dataTransfer.setData("text/html", this.innerHTML);
      }

      function dragEnter(e) {
        this.classList.add("over");
      }

      function dragLeave(e) {
        e.stopPropagation();
        this.classList.remove("over");
      }

      function dragOver(e) {
        e.preventDefault();
        e.dataTransfer.dropEffect = "move";
        return false;
      }

      function dragDrop(e) {
        if (dragSrcEl != this) {
          dragSrcEl.innerHTML = this.innerHTML;
          this.innerHTML = e.dataTransfer.getData("text/html");
        }
        return false;
      }

      function dragEnd(e) {
        var listItens = document.querySelectorAll(".draggable");
        [].forEach.call(listItens, function (item) {
          item.classList.remove("over");
        });
        this.style.opacity = "1";
      }

      function addEventsDragAndDrop(el) {
        el.addEventListener("dragstart", dragStart, false);
        el.addEventListener("dragenter", dragEnter, false);
        el.addEventListener("dragover", dragOver, false);
        el.addEventListener("dragleave", dragLeave, false);
        el.addEventListener("drop", dragDrop, false);
        el.addEventListener("dragend", dragEnd, false);
      }
      console.log(addEventListener);

      var listItens = document.querySelectorAll(".draggable");
      [].forEach.call(listItens, function (item) {
        addEventsDragAndDrop(item);
      });

      // function addNewItem() {
      //   var newItem = document.querySelector(".input").value;
      //   if (newItem != "") {
      //     document.querySelector(".input").value = "";
      //     var li = document.createElement("li");
      //     var attr = document.createAttribute("draggable");
      //     var ul = document.querySelector("ul");
      //     li.className = "draggable";
      //     attr.value = "true";
      //     li.setAttributeNode(attr);
      //     li.appendChild(document.createTextNode(newItem));
      //     ul.appendChild(li);
      //     addEventsDragAndDrop(li);
      //   }
      // }

      // btn.addEventListener("click", addNewItem);
    </script>
    <script src="js/app.js"></script>
  </body>
</html>
